+++
title = "Понимание веб-разработки: работа с сервером"
date = "2025-10-28"
description = "Изучаем основы работы с nginx в качестве локального сервера."

[taxonomies]
tags=["инструменты", "навыки"]
+++

Это заключительная статья из серии, посвящённой пониманию веб-разработки. В серии три статьи, в которых разбирается следующее:

1. [Устройство клиент-серверного взаимодействия](@/articles/http-api-quickstart.md);
1. [Изучение того, как браузер получает и отображает данные](@/articles/using-devtools.md);
1. → Развернём собственный локальный сервер, чтобы почувствовать, как работает веб изнутри.

Как запустить локальный веб-сервер с nginx
Цель этой статьи — помочь вам разобраться, как работает веб-сервер, используя простой и понятный инструмент: nginx. Это руководство подойдёт новичкам, особенно техническим писателям, которые хотят понять основы веба, не погружаясь сразу в сложные технологии.

Мы сосредоточимся на macOS и Linux, но дадим пояснения для пользователей Windows, использующих Git Bash.

Что такое веб-сервер?
Веб-сервер — это программа, которая принимает запросы от браузера или другого клиента и отвечает на них. Основная задача — доставить файлы: HTML, CSS, изображения, JSON.

Существует два основных типа:

Статический сервер
Отдаёт файлы «как есть». Никакой обработки, никакого кода. Подходит для сайтов, документации, интерфейсов одностраничных приложений (SPA). Примеры: nginx, Apache в базовой конфигурации.

API-сервер (динамический)
Обрабатывает данные, взаимодействует с базой, может создавать или изменять ресурсы. Такие серверы используют Node.js, Python, Java и другие языки. Отвечают на запросы вроде POST /users или GET /posts?userId=1.

В этой статье мы работаем со статическим сервером. Он не меняет данные, но показывает, как контент становится доступен через HTTP.

Nginx vs Apache: кратко
Nginx и Apache — два самых популярных веб-сервера. Они решают одну задачу, но по-разному.

Nginx использует асинхронную архитектуру и эффективно работает с большим числом одновременных подключений. Он легче, быстрее и проще в базовой настройке. Часто используется в современных системах, Docker и облачных платформах.

Apache более гибкий благодаря модульной системе, но требует больше ресурсов. Широко распространён на традиционных хостингах.

Для обучения выберем nginx — он проще и нагляднее.

Установка nginx
На macOS
Если у вас установлен Homebrew, выполните:

brew install nginx

После установки:

Конфигурация находится в /usr/local/etc/nginx/nginx.conf
Файлы сайта — в /usr/local/share/nginx/html
На Linux (Ubuntu/Debian)
sudo apt update
sudo apt install nginx

Файлы:

Конфигурация: /etc/nginx/nginx.conf
Контент: /var/www/html
На Windows (с Git Bash)
Перейдите на https://nginx.org/download/
Скачайте nginx-1.24.0.zip
Распакуйте в C:\nginx
Теперь:

Конфигурация: C:\nginx\conf\nginx.conf
Файлы сайта: C:\nginx\html
В Git Bash используйте пути в стиле Unix: cd /c/nginx вместо C:\nginx

Подготовка контента
Перейдите в папку с сайтами:

macOS: /usr/local/share/nginx/html
Linux: /var/www/html
Windows: C:\nginx\html
Замените или создайте файл index.html:

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Локальный сервер</title>
</head>
<body>
<h1>Сервер работает!</h1>
<p>Это страница отдана через nginx.</p>
</body>
</html>

Запуск сервера
На macOS и Linux
Введите команду:

nginx

Если возникает ошибка доступа, попробуйте:

sudo nginx

На Windows (через Git Bash)
cd /c/nginx
start nginx

или

./nginx.exe

Проверка работы
Откройте браузер и перейдите по адресу:

http://localhost

Вы должны увидеть вашу страницу.

Что такое localhost?
localhost — это имя, которое всегда указывает на ваш собственный компьютер. Оно связано с IP-адресом 127.0.0.1.

Когда вы заходите на http://localhost , браузер обращается к программе, работающей у вас на машине. Никакой интернет не нужен.

Это отличается от удалённого сервера, например example.com, который работает на другом компьютере и доступен по внешнему IP. Локальный сервер — это ваш песочник для тестирования.

Порты: что это и зачем они нужны?
Порт — это "дверь", через которую сервер принимает запросы.

По умолчанию:

HTTP использует порт 80
HTTPS — порт 443
Nginx настроен на порт 80. Если он занят, можно изменить номер порта в файле nginx.conf:

listen 8080

Тогда открывайте в браузере:

http://localhost:8080

Порты позволяют запускать несколько серверов одновременно. Например, один на 80, другой на 3000.

Навигация по файловой системе
Чтобы уверенно работать с сервером, нужно уметь перемещаться по папкам.

Команды:

pwd — покажет, где вы сейчас находитесь (полный путь)
ls — покажет содержимое текущей папки
cd имя_папки — войти в папку
cd .. — подняться на уровень выше
cd ~ — вернуться в домашнюю директорию
Пример:
Вы в /home/user/web
Хотите перейти в /home/user/web/docs
Введите: cd docs

Хотите вернуться обратно?
Введите: cd ..

Работа с двумя вкладками терминала
Рекомендуется открыть две вкладки терминала:

В одной — управлять nginx (запуск, остановка, перезагрузка)
В другой — выполнять curl, проверять данные, работать с файлами
Это поможет:

Не путать команды
Быстро переключаться между задачами
Видеть логи и выполнять запросы одновременно
Получение данных с API и размещение на сервере
Теперь выполним полный цикл: получим данные с JSONPlaceholder, сохраним их и откроем через наш сервер.

Шаг 1: Получите список пользователей
В одной из вкладок терминала перейдите в папку сайта:

cd /usr/local/share/nginx/html

или для Linux:

cd /var/www/html

или для Windows (Git Bash):

cd /c/nginx/html

Теперь загрузите данные:

curl -s https://jsonplaceholder.typicode.com/users > users.json

Команда скачает список из 10 пользователей и сохранит в файл users.json.

Проверьте, что файл создан:

ls

Вы должны увидеть users.json в списке.

Просмотрите его содержимое:

cat users.json

Шаг 2: Перезагрузите сервер
Если nginx уже запущен, ему нужно сообщить, что появились новые файлы.

Во второй вкладке выполните:

nginx -s reload

Это мягко перезапустит сервер, сохранив соединения.

Шаг 3: Проверьте данные через браузер и curl
Откройте браузер:

http://localhost/users.json

Вы увидите JSON со списком пользователей.

Теперь проверьте через curl:

curl http://localhost/users.json | head -n 10

Вы увидите начало массива данных.

Проверка через curl
curl — универсальный инструмент для отправки HTTP-запросов.

Чтобы проверить заголовки ответа, выполните:

curl -I http://localhost

Вы увидите:

HTTP/1.1 200 OK
Server: nginx/...
Content-Type: text/html
...

Если вы изменили порт:

curl -I http://localhost:8080

Остановка сервера
Чтобы остановить nginx, выполните:

nginx -s stop

На всех системах команда одинакова. На Windows в Git Bash:

cd /c/nginx
nginx -s stop

Логи: где смотреть ошибки
Nginx записывает все действия в логи.

Основные файлы:

access.log — успешные запросы
error.log — ошибки
Расположение:

macOS: /usr/local/var/log/nginx/access.log
Linux: /var/log/nginx/access.log
Windows: C:\nginx\logs\access.log
Пример записи:

127.0.0.1 - - [05/Apr/2025:12:34:56 +0000] "GET / HTTP/1.1" 200 612

Это значит: кто-то с IP 127.0.0.1 запросил главную страницу, получил статус 200 и 612 байт данных.

Что ещё можно сделать
Добавьте favicon
Положите файл favicon.ico в папку html. Обновите страницу — вкладка браузера покажет иконку.
Создайте вторую страницу
Добавьте about.html и откройте http://localhost/about.html . Убедитесь, что сервер отдаёт её.
Положите JSON-файл
Сохраните post.json в папку html. Откройте http://localhost/post.json — увидите данные в браузере.
Запустите сервер на другом порту
Измените listen на 8080, перезапустите nginx. Теперь у вас два варианта запуска — попробуйте оба.
Проверьте работу с мобильного устройства
Узнайте IP вашего компьютера в сети (ifconfig или ipconfig), откройте http://ваш.айпи:8080 с телефона. Убедитесь, что сервер доступен.
Зачем это техническому писателю?
Вы можете проверить, как будет выглядеть документация в реальных условиях
Вы понимаете, что происходит при переходе по ссылке
Вы можете писать точные инструкции по развёртыванию
Вы говорите на одном языке с разработчиками
Это не про то, чтобы стать системным администратором.
Это про то, чтобы понимать, как устроен веб — от файла до URL.

Следующие шаги
Добавьте CSS и сделайте страницу красивее
Попробуйте положить туда JavaScript и убедитесь, что он выполняется
Настройте кастомную 404-страницу
Попробуйте запустить два сервера одновременно