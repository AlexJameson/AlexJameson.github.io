+++
title = "Понимание веб-разработки: работа с сервером"
date = "2025-11-02"
description = "Изучаем основы работы с Python HttpServer."

[taxonomies]
tags=["инструменты", "навыки"]
+++

Это заключительная статья из серии, посвящённой пониманию веб-разработки. В серии три статьи, в которых разбирается следующее:

1. [Устройство клиент-серверного взаимодействия](@/articles/http-api-quickstart.md);
1. [Изучение того, как браузер получает и отображает данные](@/articles/using-devtools.md);
1. → Развернём собственный локальный сервер чтобы убедиться, что сервер — это просто программа.

Эта статья поможет вам разобраться, как устроен простейший веб-сервер и как данные передаются между клиентом и сервером. Мы используем встроенный HTTP-сервер Python — он не требует сложной установки и идеально подходит для обучения.

## Зачем это техническому писателю?

- Вы можете проверить, как работает документация в "реальном" окружении
- Вы понимаете, что происходит при переходе по ссылке
- Вы можете писать точные примеры для API
- Вы говорите на одном языке с разработчиками

## Что такое веб-сервер

Веб-сервер — это программа, которая принимает запросы от браузера или другого клиента и отвечает на них. Основная задача — доставить файлы: HTML, CSS, JSON и т.д.

Существует два основных типа серверов:

| Статический  | Динамический |
| --- | --- |
| Отдаёт файлы «как есть». Никакой обработки, никакого кода. Подходит для сайтов, документации, интерфейсов одностраничных приложений (SPA). | Обрабатывает данные, взаимодействует с базой данных, может создавать или изменять ресурсы, что дает возможность работать с API. Такие серверы используют Node.js, Python, Java и другие языки. |

В этой статье мы будем использовать **статический сервер** на основе Python. Он не обрабатывает логику, но показывает, как контент становится доступен через HTTP.

Вы узнаете:
- Что такое веб-сервер и какие они бывают
- Как запустить локальный сервер одной командой
- Как имитировать API и проверить его работу
- Как использовать DevTools для анализа запросов
- Что происходит при обращении к localhost

## Проверка наличия Python

Прежде чем начать, убедитесь, что у вас установлен Python 3.

Откройте терминал (Git Bash, PowerShell, Terminal) и выполните:

python --version

или

python3 --version

Если вы видите версию вроде Python 3.9 или выше — всё готово.

Если команда не найдена, скачайте Python с официального сайта python.org и установите его. Это стандартный инструмент, который часто используется в IT.

## Клонирование подготовленного проекта

Мы будем использовать готовый проект, размещённый на GitHub. Он содержит минимальную структуру, необходимую для демонстрации работы с данными.

Выполните:

git clone https://github.com/ваш-пользователь/local-web-api.git

Перейдите в папку:

cd local-web-api

Проект содержит следующие файлы:

index.html — главная страница с кнопкой для загрузки данных  
404.html — страница, которая показывается при ошибке  
api/posts.json — список из 10 постов  
api/posts/comments/1.json ... 10.json — комментарии к каждому посту

Такая структура имитирует реальное API, где:
- /api/posts/comments/1.json — возвращает комментарии к первому посту
- /api/posts/comments/2.json — ко второму и так далее

Вы можете открыть любой файл в текстовом редакторе, чтобы увидеть, как устроены данные.

## Запуск сервера

### На macOS и Linux

В терминале выполните:

python -m http.server 8000

или, если python не распознаётся:

python3 -m http.server 8000

### На Windows (с Git Bash)

Убедитесь, что вы в папке проекта:

cd local-web-api

Запустите:

python -m http.server 8000

Сервер запущен. Вы увидите сообщение:

Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...

### Что такое порт?

Порт — это "дверь", через которую сервер принимает запросы. По умолчанию HTTP использует порт 80, но для локальных тестов удобнее использовать 8000, 8080 или 3000, чтобы не конфликтовать с другими сервисами.

Вы можете выбрать любой свободный порт:

python -m http.server 8080

### Что такое localhost?

localhost — это имя, которое всегда указывает на ваш собственный компьютер. Оно связано с IP-адресом 127.0.0.1.

Когда вы заходите на http://localhost:8000, браузер обращается к программе, работающей у вас на машине. Никакой интернет не нужен.

## Проверка через curl

Откройте второй терминал или вкладку.

Проверьте, что сервер отвечает:

curl -I http://localhost:8000

Вы должны увидеть:

HTTP/1.0 200 OK  
Server: SimpleHTTP/0.6 Python/3.9.16  
Content-Type: text/html

Теперь проверьте доступ к данным:

curl http://localhost:8000/api/posts/comments/1.json | head -n 5

Вы увидите начало массива комментариев.

А что будет, если запросить несуществующую страницу?

curl -I http://localhost:8000/xyz

Ожидаемо: HTTP/1.0 404 Not Found

Но сервер покажет содержимое 404.html — попробуйте открыть в браузере.

### Чем отличается настоящий API от нашей эмуляции?

Настоящий API:
- Обрабатывает POST, PUT, DELETE
- Сохраняет изменения
- Имеет аутентификацию
- Работает с базой данных

Наша эмуляция:
- Только GET-запросы
- Данные статичны
- Нет логики
- Не сохраняет ничего

Но она отлично показывает, как устроено клиент-серверное взаимодействие.

## Проверка в браузере

Откройте браузер и перейдите:

http://localhost:8000

Вы увидите главную страницу с кнопкой "Загрузить пост".

Нажмите на неё.

Через JavaScript страница отправляет запрос к /api/posts/comments/1.json, получает комментарии и отображает их.

Откройте DevTools (F12) и перейдите на вкладку Network.

Обновите страницу и нажмите кнопку снова.

Вы увидите:
- Запрос к /api/posts/comments/1.json
- Статус 200
- Время загрузки
- Размер данных

Это помогает понять, сколько сетевых вызовов делает страница и сколько времени они занимают.

## Остановка сервера

Чтобы остановить сервер, вернитесь в терминал, где он запущен, и нажмите:

Ctrl + C

Сервер остановится. Попробуйте обновить страницу в браузере — соединение будет отклонено.

## Что можно сделать дальше

Хотя встроенный сервер Python прост, он открывает путь к более сложным возможностям.

Теперь вы знаете, как работает веб-сервер.  
Вы можете не просто описывать технологии — вы их чувствуете.