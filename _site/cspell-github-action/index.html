<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
      <title>GitHub Action для запуска CSpell в CI</title>
      <meta name="twitter:title" content="GitHub Action для запуска CSpell в CI">
      <meta property="og:title" content="GitHub Action для запуска CSpell в CI">
     

    
      <meta name="twitter:description" content="Статья показывает, как создать GitHub Action для проверки орфографии с помощью CSpell в CI.">
      <meta name="description" content="Статья показывает, как создать GitHub Action для проверки орфографии с помощью CSpell в CI.">
      <meta property="og:description" content="Статья показывает, как создать GitHub Action для проверки орфографии с помощью CSpell в CI.">
     

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">

    <style>
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }
  body,
  h1,
  h2,
  h3,
  h4,
  p,
  figure,
  blockquote,
  dl,
  dd {
    margin: 0;
  }
  ul[role="list"],
  ol[role="list"] {
    list-style: none;
  }
  html:focus-within {
    scroll-behavior: smooth;
  }
  body {
    min-height: 100vh;
    text-rendering: optimizeSpeed;
    line-height: 1.5;
  }
  a:not([class]) {
    text-decoration-skip-ink: auto;
  }
  img,
  picture {
    max-width: 100%;
    display: block;
  }
  input,
  button,
  textarea,
  select {
    font: inherit;
  }
  @media (prefers-reduced-motion: reduce) {
    html:focus-within {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
</style>

    <style>
  * {
    padding: 0;
    margin: 0;
    line-height: calc(1em + 0.75rem);
  }
  html {
    --color-background: #fffcf0;
    --color-background-shade: #fbf3d9;
    --color-text: #22211d;
    --color-text-shade: #575650;
    --color-primary: #147d82;

    --font-family: -apple-system, BlinkMacSystemFont, "Inter", "IBM Plex Sans",
      Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji,
      Segoe UI Symbol;

    --container-max-size: 75ch;
    --container-padding-sides: var(--space-4);

    --space-1: 0.35rem;
    --space-2: 0.5rem;
    --space-3: 1rem;
    --space-4: 1.5rem;
    --space-5: 2rem;
    --space-6: 2.5rem;
    --space-7: 3rem;
    --space-8: 4rem;
    --space-9: 5rem;
    --space-10: 6rem;

    --font-size-xs: clamp(0.8rem, 0.12vw + 0.8rem, 1rem);
    --font-size-base: clamp(0.9rem, 0.16vw + 0.9rem, 1.25rem);
    --font-size-lg: clamp(1.2rem, 0.12vw + 1.2rem, 1.6rem);
    --font-size-xl: clamp(1.6rem, 0.14vw + 1.6rem, 2rem);
  }
  [data-theme="dark"] {
    --color-background: #100f0f;
    --color-background-shade: #202424;
    --color-text: #d2dee1;
    --color-text-shade: #989f9f;
    --color-primary: #62aba4;
  }
  h1 {
    font-size: var(--font-size-xl);
  }
  h2 {
    font-size: var(--font-size-lg);
    color: var(--color-text-shade);
    font-weight: normal;
    margin-bottom: var(--space-2);
  }
  h3,
  h4,
  h5,
  h6 {
    font-size: var(--font-size-base);
  }
  body {
    font-family: var(--font-family);
    color: var(--color-text);
    background-color: var(--color-background);
    font-size: 1rem;
    font-size: var(--font-size-base);
    text-rendering: optimizeLegibility;
  }
  a {
    color: var(--color-primary);
  }
  img,
  picture {
    height: auto;
    max-width: 100%;
    flex-shrink: 0;
  }
  blockquote {
    padding: 0 1em;
    color: var(--color-text-shade);
    border-left: 0.25em solid var(--color-primary);
  }
  button {
    display: inline;
    background-color: var(--color-primary);
    color: white;
    border-radius: 4px;
    border: none;
    font-size: var(--font-size-base);
    padding: 0.5em 1em;
    font-size: inherit;
    line-height: 1.15;
    transition: background 0.2s ease-in-out;
    cursor: pointer;
  }
  button:hover {
    background-color: var(--color-text);
    color: white;
  }
  pre {
    padding: var(--space-4);
    border-radius: 4px;
    font-size: var(--font-size-xs);
    background: var(--color-background-shade);
    --prism-background: var(--color-background-shade);
    --prism-font-size: var(--font-size-xs);
  }
  code {
    font-size: var(--font-size-xs);
    white-space: pre-wrap;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .visually-hidden {
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
  }
</style>

  </head>
  <body>
    <a href="#skip" class="visually-hidden">Skip to main content</a>
    <style>
  .navbar {
    max-width: var(--container-max-size);
    padding: var(--space-7) var(--container-padding-sides);
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: var(--space-4);
  }
  .navbar nav {
    flex: 1;
  }
  .navbar a {
    text-decoration: none;
    color: unset;
  }
  .navbar a:hover {
    color: var(--color-primary);
    transition: color 0.2s ease-in-out;
  }
  .navbar-links {
    list-style: none;
    display: flex;
    align-items: center;
    gap: var(--space-6);
    row-gap: var(--space-4);
    flex-wrap: wrap;
  }
  .navbar-links > *:nth-child(2) {
    margin-left: auto;
  }
  .link-home {
    font-weight: bold;
    color: var(--color-primary);
    font-size: var(--font-size-lg);
  }
  @media (max-width: 1250px) {
    .navbar-links > *:nth-child(1) {
      width: 100%;
    }
    .navbar-links > *:nth-child(2) {
      margin-left: unset;
    }
  }
</style>

<header class="navbar">
  <nav>
    <ul class="navbar-links">
      <li class="link-home">
        <a href="/">Docs as Magic</a>
      </li>
      <li><a href="/about">Обо мне</a></li>
		<li><a href="/mentorship">Менторство</a></li>
      <li><a href="/articles">Посты</a></li>
		<li><a href="/projects">Проекты</a></li>
    </ul>
  </nav>
  <button class="dark-toggler" aria-label="Toggle color mode" title="Toggle color mode" data-theme-toggle>
  <div class="toggler-icon"></div>
</button>

<style>
  .dark-toggler {
    background: unset;
  }
  .dark-toggler:hover {
    background: unset;
  }
  .dark-toggler:hover .toggler-icon {
    background-color: var(--color-primary);
  }
  .toggler-icon {
    width: 18px;
    height: 18px;
    background-color: var(--color-text);
    transition: background-color 0.2s ease-in-out;
    -webkit-mask-size: 18px;
    -webkit-mask-position: 50% 50%;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor' %3E%3Cpath fill-rule='evenodd' d='M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z' clip-rule='evenodd' /%3E%3C/svg%3E");
  }
  [data-theme="dark"] .toggler-icon {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='currentColor' viewBox='0 0 24 24' %3E%3Cpath d='M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z' /%3E%3C/svg%3E");
  }
</style>

<script>
  const localStorageTheme = localStorage.getItem("theme");
  const systemSettingDark = window.matchMedia("(prefers-color-scheme: dark)");
  const systemSettingTheme = systemSettingDark.matches ? "dark" : "light";

  let currentTheme = localStorageTheme ? localStorageTheme : systemSettingTheme;

  const buttonToggler = document.querySelector("[data-theme-toggle]");
  const html = document.querySelector("html");

  html.setAttribute("data-theme", currentTheme);

  setTimeout(() => {
    document.querySelector("body").style.transition =
      "background-color 1s ease-out, color 1s ease-out";
  }, 0);

  buttonToggler.addEventListener("click", () => {
    const newTheme = currentTheme === "dark" ? "light" : "dark";
    html.setAttribute("data-theme", newTheme);
    localStorage.setItem("theme", newTheme);
    currentTheme = newTheme;
  });
</script>

</header>

    <style>
      .main-container {
        margin: 0 auto;
        max-width: var(--container-max-size);
        padding: 0 var(--container-padding-sides) var(--space-4);
      }
    </style>
    <main class="main-container" id="skip">
      
<header class="post-header">
  <h1 class="post-title">GitHub Action для запуска CSpell в CI</h1>
  <div class="post-time">
    <time datetime="">
      Wed, May 14, 2025
    </time>
  </div>
</header>

<section class="post-container">
  <p>Некоторое время назад я написал статью о том, как использовать <a href="https://habr.com/ru/articles/902236/">CSpell для проверки орфографии</a>. В ней я упомянул, что можно создать GitHub Action для запуска CSpell в рамках CI-пайплайна. В тот момент у меня было только примерное понимание того, как такой Action должен работать, а в продакшене финальный вариант писали уже наши программисты с нуля.</p>
<p>Я решил доделать Action самостоятельно, чтобы дать любому пользователю возможность запускать <a href="https://cspell.org/">CSpell</a> в том числе в пул-реквестах на GitHub.</p>
<h2>Требования и ограничения</h2>
<ul>
<li>
<p>Основным требованием для этого процесса была возможность запуска CSpell с использованием того же конфигурационного файла и тех же словарей, которые могут использоваться локально.</p>
</li>
<li>
<p>CSpell должен запускаться по команде в комментарии, оставленном в пул-реквесте.</p>
</li>
<li>
<p>Проверяться должны те файлы, которые были изменены в пул-реквесте.</p>
</li>
</ul>
<p>Последний пункт несет в себе ограничение, связанное со спецификой работы CSpell. Этот инструмент умеет проверять только файлы целиком, а не отдельные строки. Таким образом, при конфигурации нужно сделать выбор: либо проверять все файлы, в которых есть измененные строки, либо же собрать все измененные в коммитах строки в один временный файл, и проверить уже его. Я сделал выбор в пользу проверки реально существующих файлов, даже с учетом того, что в результатах проверки могут быть ошибки, которые появились не в рамках текущего пул-реквеста. Также у выбранного мной способа есть дополнительное преимущество — при проверке таких файлов будет указана строка, на которой есть слово, содержащее ошибку.</p>
<h2>Реализация</h2>
<p>Главный вызов в создании Action такого рода заключается в правильном вычислении дельты (diff) между HEAD текущей ветки и HEAD ветки, в которую должен быть вмержен пул-реквест (base branch). На маркетплейсе GitHub есть Actions, которые должны позволять это делать, но ни один из них не сработал в моих условиях, так что я взял за основу код, предложенный Claude Sonnet 3.7, и доработал его под свою задачу.</p>
<p>В моей реализации Action работает следующим образом:</p>
<ol>
<li>
<p>В первых четырех шагах (начиная с <code>Checkout repository</code> до <code>Install Russian dictionary</code>) в коде ниже происходит подготовка репозитория и установка всех необходимых пакетов в раннере.</p>
</li>
<li>
<p>На шаге <code>Fetch PR details</code> вычисляется дельта между HEAD текущей ветки и HEAD ветки, в которую должен быть вмержен пул-реквест.</p>
</li>
<li>
<p>В следующих шагах — <code>Checkout PR</code> и <code>Get changed files</code> — подготавливаются файлы, попадающие в вычисленную дельту.</p>
</li>
<li>
<p>Шаг <code>Run CSpell check</code> отвечает непосредственно за запуск проверки орфографии в этих файлах. Также на этом шаге подготавливается контент комментария, который будет отправлен в пул-реквест по окончанию проверки. В этом комментарии будет один из трех возможных результатов:</p>
<ul>
<li>Обнаружены ошибки. В таком случае в комментарии будут отправлены ошибки, которые были найдены в процессе проверки.</li>
<li>Проверка прошла успешно. В таком случае в комментарии будет отправлен текст <code>✅ Spelling check passed for all changed files</code>.</li>
<li>Не обнаружены файлы, подлежащие проверке. В таком случае в комментарии будет отправлен текст <code>✅ No files changed to check.</code>.</li>
</ul>
<p>В данном случае не предусмотрена обработка ошибок, возникающих в ходе запуска Action. Такие ошибки могут быть связаны с неверной конфигурацией, исчерпанием лимита бесплатного времени работы (2000 минут в месяц) и пр.</p>
</li>
<li>
<p>Последний шаг — <code>Comment PR</code> — отправляет комментарий с результатами в пул-реквест.</p>
</li>
</ol>
<p>Пример проверки:</p>
<p><img src="../assets/cspell-action-result.png" alt="cspell check result"></p>
<p>Получившийся файл расположен по адресу <code>.github/workflows/cspell-check.yml</code> и выглядит следующим образом:</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml" data-language="yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> CSpell Check

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">issue_comment</span><span class="token punctuation">:</span>
    <span class="token key atrule">types</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>created<span class="token punctuation">]</span>

<span class="token key atrule">permissions</span><span class="token punctuation">:</span>
  <span class="token key atrule">contents</span><span class="token punctuation">:</span> read
  <span class="token key atrule">pull-requests</span><span class="token punctuation">:</span> write
  <span class="token key atrule">issues</span><span class="token punctuation">:</span> write

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">cspell-check</span><span class="token punctuation">:</span>
    <span class="token key atrule">if</span><span class="token punctuation">:</span> github.event.issue.pull_request <span class="token important">&amp;&amp;</span> contains(github.event.comment.body<span class="token punctuation">,</span> '/check')
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout repository
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up Node.js
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'20'</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install cspell
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install <span class="token punctuation">-</span>g cspell

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Russian dictionary
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install <span class="token punctuation">-</span>g @cspell/dict<span class="token punctuation">-</span>ru_ru

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Fetch PR details
        <span class="token key atrule">id</span><span class="token punctuation">:</span> pr<span class="token punctuation">-</span>details
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          PR_NUMBER=$
          PR_DATA=$(curl -s -H "Authorization: token $" \
            "https://api.github.com/repos/$/pulls/$PR_NUMBER")</span>
          
          BASE_REF=$(echo "$PR_DATA" <span class="token punctuation">|</span> jq <span class="token punctuation">-</span>r .base.ref)
          HEAD_REF=$(echo "$PR_DATA" <span class="token punctuation">|</span> jq <span class="token punctuation">-</span>r .head.ref)
          HEAD_SHA=$(echo "$PR_DATA" <span class="token punctuation">|</span> jq <span class="token punctuation">-</span>r .head.sha)
          
          echo "base_ref=$BASE_REF" <span class="token punctuation">></span><span class="token punctuation">></span> $GITHUB_OUTPUT
          echo "head_ref=$HEAD_REF" <span class="token punctuation">></span><span class="token punctuation">></span> $GITHUB_OUTPUT
          echo "head_sha=$HEAD_SHA" <span class="token punctuation">></span><span class="token punctuation">></span> $GITHUB_OUTPUT

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout PR
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          git fetch origin pull/$/head:pr-$
          git checkout pr-$</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Get changed files
        <span class="token key atrule">id</span><span class="token punctuation">:</span> changed<span class="token punctuation">-</span>files
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          BASE_REF=$NaN
          git fetch origin $BASE_REF</span>
          
          CHANGED_FILES=$(git diff <span class="token punctuation">-</span><span class="token punctuation">-</span>name<span class="token punctuation">-</span>only origin/$BASE_REF)
          echo "Changed files<span class="token punctuation">:</span>"
          echo "$CHANGED_FILES"
          echo "files&lt;&lt;EOF" <span class="token punctuation">></span><span class="token punctuation">></span> $GITHUB_OUTPUT
          echo "$CHANGED_FILES" <span class="token punctuation">></span><span class="token punctuation">></span> $GITHUB_OUTPUT
          echo "EOF" <span class="token punctuation">></span><span class="token punctuation">></span> $GITHUB_OUTPUT

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run CSpell check
        <span class="token key atrule">id</span><span class="token punctuation">:</span> cspell<span class="token punctuation">-</span>check
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          # Get the changed files
          CHANGED_FILES="$NaN"</span>
          
          if <span class="token punctuation">[</span> <span class="token punctuation">-</span>z "$CHANGED_FILES" <span class="token punctuation">]</span>; then
            echo "<span class="token comment">## CSpell Check Result" > comment.md</span>
            echo "" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
            echo "✅ No files changed to check." <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
            exit 0
          fi
          
          <span class="token comment"># Create a file with the list of files to check</span>
          echo "$CHANGED_FILES" <span class="token punctuation">></span> files_to_check.txt
          
          <span class="token comment"># Run cspell check</span>
          cspell <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>progress $(cat files_to_check.txt) <span class="token punctuation">></span> cspell_output.txt 2<span class="token punctuation">></span><span class="token important">&amp;1</span> <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token punctuation">{</span>
            <span class="token comment"># If cspell fails (returns non-zero), it found spelling issues</span>
            echo "<span class="token comment">## CSpell Check Result" > comment.md</span>
            echo "" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
            echo "❌ Spelling issues found<span class="token punctuation">:</span>" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
            echo "" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
            
            <span class="token comment"># Format the output with newlines after each issue</span>
            grep " <span class="token punctuation">-</span> Unknown word" cspell_output.txt <span class="token punctuation">></span> formatted_issues.txt <span class="token punctuation">|</span><span class="token punctuation">|</span> true
            
            cat formatted_issues.txt <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
            echo "" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md <span class="token comment"># Add an extra newline</span>
            <span class="token key atrule">grep "CSpell</span><span class="token punctuation">:</span> Files checked<span class="token punctuation">:</span>" cspell_output.txt <span class="token punctuation">></span><span class="token punctuation">></span> comment.md <span class="token punctuation">|</span><span class="token punctuation">|</span> true
            exit 0
          <span class="token punctuation">}</span>
          
          <span class="token comment"># If we get here, cspell succeeded (returned zero), no spelling issues</span>
          echo "<span class="token comment">## CSpell Check Result" > comment.md</span>
          echo "" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
          echo "✅ Spelling check passed for all changed files." <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
          echo "" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md
          echo "<span class="token punctuation">[</span>View Action<span class="token punctuation">]</span>(https<span class="token punctuation">:</span>//github.com/$/actions/runs/$)" <span class="token punctuation">></span><span class="token punctuation">></span> comment.md

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Post comment
        <span class="token key atrule">if</span><span class="token punctuation">:</span> always()
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          PR_NUMBER=$
          COMMENT_BODY=$(cat comment.md)
          COMMENT_JSON=$(jq -n --arg body "$COMMENT_BODY" '{"body": $body}')</span>
          
          curl <span class="token punctuation">-</span>s <span class="token punctuation">-</span>X POST \
            <span class="token key atrule">-H "Authorization</span><span class="token punctuation">:</span> token $" \
            <span class="token key atrule">-H "Content-Type</span><span class="token punctuation">:</span> application/json" \
            <span class="token punctuation">-</span>d "$COMMENT_JSON" \
            "https<span class="token punctuation">:</span>//api.github.com/repos/$/issues/$PR_NUMBER/comments"
</code></pre>
<h2>Конфигурация CSpell</h2>
<p>Моя собственная конфигурация CSpell с используемыми словарями подробно описана в <a href="https://habr.com/ru/articles/902236/">статье</a>, на которую я уже ссылался. Здесь я покажу только конфигурационный файл для тестового проекта:</p>
<pre class="language-yaml" data-language="yaml"><code class="language-yaml" data-language="yaml"><span class="token punctuation">{</span>
	<span class="token key atrule">"version"</span><span class="token punctuation">:</span> <span class="token string">"0.2"</span><span class="token punctuation">,</span>
	<span class="token key atrule">"language"</span><span class="token punctuation">:</span> <span class="token string">"en,ru"</span><span class="token punctuation">,</span>
	<span class="token key atrule">"import"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"@cspell/dict-ru_ru/cspell-ext.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token key atrule">"dictionaryDefinitions"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
	  <span class="token punctuation">{</span>
			<span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"allowed-en"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"path"</span><span class="token punctuation">:</span> <span class="token string">"dicts/allowed-en.txt"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"addWords"</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>	  
	  <span class="token punctuation">{</span>
			<span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"allowed-adj"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"path"</span><span class="token punctuation">:</span> <span class="token string">"dicts/allowed-adj.txt"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"addWords"</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	  <span class="token punctuation">{</span>
			<span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"allowed-nouns"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"path"</span><span class="token punctuation">:</span> <span class="token string">"dicts/allowed-nouns.txt"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"addWords"</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	  <span class="token punctuation">{</span>
			<span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"allowed-verbs"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"path"</span><span class="token punctuation">:</span> <span class="token string">"dicts/allowed-verbs.txt"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"addWords"</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	  <span class="token punctuation">{</span>
			<span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"names"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"path"</span><span class="token punctuation">:</span> <span class="token string">"dicts/names.txt"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"addWords"</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	  <span class="token punctuation">{</span>
			<span class="token key atrule">"name"</span><span class="token punctuation">:</span> <span class="token string">"forbidden-ru"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"path"</span><span class="token punctuation">:</span> <span class="token string">"dicts/forbidden-ru.txt"</span><span class="token punctuation">,</span>
			<span class="token key atrule">"addWords"</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
	  <span class="token punctuation">}</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token key atrule">"dictionaries"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
	  <span class="token string">"allowed-en"</span><span class="token punctuation">,</span>
	  <span class="token string">"allowed-adj"</span><span class="token punctuation">,</span>
	  <span class="token string">"allowed-nouns"</span><span class="token punctuation">,</span>
	  <span class="token string">"allowed-verbs"</span><span class="token punctuation">,</span>
	  <span class="token string">"names"</span><span class="token punctuation">,</span>
	  <span class="token string">"forbidden-ru"</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token key atrule">"ignoreRegExpList"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
		 <span class="token string">"```[^]*```"</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token key atrule">"ignorePaths"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"node_modules"</span><span class="token punctuation">,</span>
        <span class="token string">"dicts"</span><span class="token punctuation">,</span>
		  <span class="token string">".github"</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>

</section>
<style>
  :root {
    --prism-scheme: light;

    /* Colors */
    --prism-foreground: #6e6e6e;
    --prism-background: #f4f4f4;

    /* Tokens */
    --prism-comment: #a8a8a8;
    --prism-string: #555555;
    --prism-literal: #333333;
    --prism-keyword: #000000;
    --prism-function: #4f4f4f;
    --prism-deleted: #333333;
    --prism-class: #333333;
    --prism-builtin: #757575;
    --prism-property: #333333;
    --prism-namespace: #4f4f4f;
    --prism-punctuation: #ababab;
    --prism-decorator: var(--prism-class);
    --prism-operator: var(--prism-punctuation);
    --prism-number: var(--prism-literal);
    --prism-boolean: var(--prism-literal);
    --prism-variable: var(--prism-literal);
    --prism-constant: var(--prism-literal);
    --prism-symbol: var(--prism-literal);
    --prism-interpolation: var(--prism-literal);
    --prism-selector: var(--prism-keyword);
    --prism-keyword-control: var(--prism-keyword);
    --prism-regex: var(--prism-string);
    --prism-json-property: var(--prism-property);
    --prism-inline-background: var(--prism-background);

    /* Token Styles */
    --prism-comment-style: italic;
    --prism-url-decoration: underline;

    /* Extension */
    --prism-line-number: #a5a5a5;
    --prism-line-number-gutter: #333333;
    --prism-line-highlight-background: #eeeeee;
    --prism-selection-background: #dddddd;
    --prism-marker-color: var(--prism-foreground);
    --prism-marker-opacity: 0.4;
    --prism-marker-font-size: 0.8em;

    /* Font */
    --prism-font-size: 1em;
    --prism-line-height: 1.5em;
    --prism-font-family: monospace;
    --prism-inline-font-size: var(--prism-font-size);
    --prism-block-font-size: var(--prism-font-size);

    /* Sizing */
    --prism-tab-size: 2;

    --prism-block-padding-x: 1em;
    --prism-block-padding-y: 1em;
    --prism-block-margin-x: 0;
    --prism-block-margin-y: 0.5em;
    --prism-block-radius: 0.3em;
    --prism-inline-padding-x: 0.3em;
    --prism-inline-padding-y: 0.1em;
    --prism-inline-radius: 0.3em;
  }

  div[class*="language-"],
  pre[class*="language-"],
  code[class*="language-"] {
    font-size: var(--prism-font-size);
    font-family: var(--prism-font-family);
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    line-height: var(--prism-line-height);
    -moz-tab-size: var(--prism-tab-size);
    -o-tab-size: var(--prism-tab-size);
    tab-size: var(--prism-tab-size);
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
    color: var(--prism-foreground) !important;
  }

  /* Code blocks */
  div[class*="language-"],
  pre[class*="language-"] {
    font-size: var(--prism-block-font-size);
    padding: var(--prism-block-padding-y) var(--prism-block-padding-x);
    margin: var(--prism-block-margin-y) var(--prism-block-margin-x);
    border-radius: var(--prism-block-radius);
    overflow: auto;
    background: var(--prism-background);
  }

  /* Inline code */
  :not(pre) > code[class*="language-"] {
    font-size: var(--prism-inline-font-size);
    padding: var(--prism-inline-padding-y) var(--prism-inline-padding-x);
    border-radius: var(--prism-inline-radius);
    background: var(--prism-inline-background);
  }

  /* Selection */
  pre[class*="language-"]::-moz-selection,
  pre[class*="language-"] ::-moz-selection,
  code[class*="language-"]::-moz-selection,
  code[class*="language-"] ::-moz-selection {
    background: var(--prism-selection-background);
  }

  pre[class*="language-"]::selection,
  pre[class*="language-"] ::selection,
  code[class*="language-"]::selection,
  code[class*="language-"] ::selection {
    background: var(--prism-selection-background);
  }

  /* Tokens */
  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    color: var(--prism-comment);
    font-style: var(--prism-comment-style);
  }

  .token.namespace {
    color: var(--prism-namespace);
  }

  .token.interpolation {
    color: var(--prism-interpolation);
  }

  .token.string {
    color: var(--prism-string);
  }

  .token.punctuation {
    color: var(--prism-punctuation);
  }

  .token.operator {
    color: var(--prism-operator);
  }

  .token.keyword.module,
  .token.keyword.control-flow {
    color: var(--prism-keyword-control);
  }

  .token.url,
  .token.symbol,
  .token.inserted {
    color: var(--prism-symbol);
  }

  .token.constant {
    color: var(--prism-constant);
  }

  .token.string.url {
    text-decoration: var(--prism-url-decoration);
  }

  .token.boolean,
  .language-json .token.boolean {
    color: var(--prism-boolean);
  }

  .token.number,
  .language-json .token.number {
    color: var(--prism-number);
  }

  .token.variable {
    color: var(--prism-variable);
  }

  .token.keyword {
    color: var(--prism-keyword);
  }

  .token.atrule,
  .token.attr-value,
  .token.selector {
    color: var(--prism-selector);
  }

  .token.function {
    color: var(--prism-function);
  }

  .token.deleted {
    color: var(--prism-deleted);
  }

  .token.important,
  .token.bold {
    font-weight: bold;
  }

  .token.italic {
    font-style: italic;
  }

  .token.class-name {
    color: var(--prism-class);
  }

  .token.tag,
  .token.builtin {
    color: var(--prism-builtin);
  }

  .token.attr-name,
  .token.property,
  .token.entity {
    color: var(--prism-property);
  }

  .language-json .token.property {
    color: var(--prism-json-property);
  }

  .token.regex {
    color: var(--prism-regex);
  }

  .token.decorator,
  .token.annotation {
    color: var(--prism-decorator);
  }

  /* overrides color-values for the Line Numbers plugin
 * http://prismjs.com/plugins/line-numbers/
 */
  .line-numbers .line-numbers-rows {
    border-right-color: var(--prism-line-number);
  }

  .line-numbers-rows > span:before {
    color: var(--prism-line-number-gutter);
  }

  /* overrides color-values for the Line Highlight plugin
  * http://prismjs.com/plugins/line-highlight/
  */
  .line-highlight {
    background: var(--prism-line-highlight-background);
  }
</style>


<style>
  .post-header {
    margin-bottom: var(--space-5);
  }
  .post-title {
    font-weight: normal;
  }
  .post-time {
    color: var(--color-text-shade);
    font-size: var(--font-size-xs);
  }
  .post-container {
    padding-bottom: var(--space-4);
    border-bottom: 1px solid var(--color-text-shade);
  }
  .post-container h2 {
    margin-top: var(--space-7);
  }
  .post-container h3 {
    margin-top: var(--space-6);
  }
  .post-container blockquote {
    margin: var(--space-5) 0;
  }
  .post-container > * + * {
    margin-top: var(--space-3);
  }
  .post-container > *:first-child {
    margin-top: 0;
  }
  .post-container blockquote > * + * {
    margin-top: var(--space-3);
  }
  .post-container ul,
  .post-container ol {
    padding-left: var(--space-6);
  }
  .post-container h2 + *,
  .post-container h3 + *,
  .post-container h4 + *,
  .post-container h5 + * {
    margin-top: var(--space-2);
  }
  .related {
    margin-top: var(--space-4);
  }
  .related-posts {
    list-style: none;
  }
  .related-article + .related-article {
    margin-top: var(--space-4);
  }
  .related-article {
    padding: var(--space-2) 0;
    color: var(--color-text);
    text-decoration: unset;
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
  }
  .related-article-title {
    transition: color 0.2s ease-in-out;
  }
  .related-article:hover .related-article-title {
    color: var(--color-primary);
  }
  .related-article-description {
    font-size: var(--font-size-xs);
    color: var(--color-text-shade);
  }
  :root {
    --prism-foreground: #393a34;
    --prism-background: transparent;

    --prism-comment: #758575;
    --prism-namespace: #444444;
    --prism-string: #bc8671;
    --prism-punctuation: #80817d;
    --prism-literal: #36acaa;
    --prism-keyword: #248459;
    --prism-function: #849145;
    --prism-deleted: #9a050f;
    --prism-class: #2b91af;
    --prism-builtin: #800000;
    --prism-property: #ce9178;
    --prism-regex: #ad502b;
  }

  [data-theme="dark"] {
    --prism-foreground: #d4d4d4;

    --prism-namespace: #aaaaaa;
    --prism-comment: #758575;
    --prism-namespace: #444444;
    --prism-string: #ce9178;
    --prism-punctuation: #d4d4d4;
    --prism-literal: #36acaa;
    --prism-keyword: #38a776;
    --prism-function: #dcdcaa;
    --prism-deleted: #9a050f;
    --prism-class: #4ec9b0;
    --prism-builtin: #d16969;
    --prism-property: #ce9178;
    --prism-regex: #ad502b;
  }
</style>

    </main>
    <footer class="footer">
  <div class="footer-content">
    <div class="footer-column">
      <h3>Сайт</h3>
      <ul>
        <li><a href="/">Главная</a></li>
        <li><a href="/about">Обо мне</a></li>
        <li><a href="/mentorship">Менторство</a></li>
        <li><a href="/articles">Посты</a></li>
        <li><a href="/projects">Проекты</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Контакты</h3>
      <ul>
        <li><a href="https://t.me/alexjameson">Telegram</a></li>
        <li><a href="https://www.linkedin.com/in/alexander-i-a87527152">LinkedIn</a></li>
        <li><a href="mailto:coldwire45@gmail.com">Email</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Ресурсы</h3>
      <ul>
        <li><a href="https://t.me/teh_lytdybr">Telegram-канал</a></li>
        <li><a href="https://github.com/AlexJameson">GitHub</a></li>
		  <li><a href="https://getmentor.dev/mentor/aleksandr-iakovlev-4454" target="_blank">GetMentor</a></li>
      </ul>
    </div>
  </div>
</footer>

<style>
  .footer {
    background: var(--color-background-secondary);
    padding: 2rem 0;
    margin-top: 4rem;
  }

  .footer-content {
    max-width: var(--container-max-size);
    margin: 0 auto;
    padding: 0 var(--container-padding-sides);
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  .footer-column h3 {
    font-size: 1rem;
    margin-bottom: 1rem;
    color: var(--color-text-secondary);
  }

  .footer-column ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .footer-column li {
    margin-bottom: 0.5rem;
  }

  .footer-column a {
    color: var(--color-text);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .footer-column a:hover {
    color: var(--color-primary);
  }

  @media (max-width: 768px) {
    .footer-content {
      grid-template-columns: 1fr;
      text-align: center;
    }

    .footer-column {
      margin-bottom: 1.5rem;
    }
  }
</style>
  </body>
</html>
