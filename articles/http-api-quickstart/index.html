<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://alexjameson.github.io/ name=base><title>
            
                Понимание веб-разработки: запросы к HTTP API
            
        </title><meta content="Понимание веб-разработки: запросы к HTTP API" property=og:title><meta content="Александр Яковлев о технике и документации" property=og:description><meta content="Александр Яковлев о технике и документации" name=description><link href=/favicon/favicon-32x32.png rel=icon type=image/png><link href=https://alexjameson.github.io/fonts.css rel=stylesheet><script src=https://alexjameson.github.io/js/codeblock.js></script><script src=https://alexjameson.github.io/js/toc.js></script><script src=https://alexjameson.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Docs as Magic" href=https://alexjameson.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://alexjameson.github.io/theme/light.css rel=stylesheet><link href=https://alexjameson.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://alexjameson.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://alexjameson.github.io/main.css media=screen rel=stylesheet><script src="https://alexjameson.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://alexjameson.github.io/>Docs as Magic</a><div class=socials><a class=social href=https://github.com/AlexJameson/AlexJameson.github.io rel=me> <img alt=github src=https://alexjameson.github.io/icons/social/github.svg> </a></div></div><nav><a href=https://alexjameson.github.io/articles style=margin-left:.25em>/Статьи</a><a href=https://alexjameson.github.io/mentorship style=margin-left:.25em>/Менторство</a><a href=https://alexjameson.github.io/about style=margin-left:.25em>/Обо мне</a><a href=https://alexjameson.github.io/atom.xml style=margin-left:.25em>/RSS</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://alexjameson.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://alexjameson.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://alexjameson.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><main><article><div class=title><div class=page-header>Понимание веб-разработки: запросы к HTTP API<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Опубликовано: <time>28.08.2025</time><span class=tags-label> :: Теги:</span><span class=tags> <a class=post-tag href=https://alexjameson.github.io/tags/instrumenty/>инструменты</a> , <a class=post-tag href=https://alexjameson.github.io/tags/navyki/>навыки</a> </span></div></div><section class=body><p>Ключевой процесс в веб-разработке — это обмен данными через сеть. Практически любое взаимодействие в IT-системах — от просмотра страницы до развертывания приложения — строится на одном и том же: клиент запрашивает данные → сервер отвечает → клиент обрабатывает и отображает данные.<p>В серии статей мы пошагово разберём этот процесс, чтобы вы не просто видели результат, а понимали, что происходит на каждом этапе. Понимание этих процессов важно для технического писателя, который работает с продуктами для разработчиков, облачными сервисами или платформенными решениями.<p>Я буду ссылаться на теоретические материалы из журнала <a href=https://thecode.media/>Код</a>, принадлежащего Яндекс Практикуму. В статьях из этого цикла делается упор на практику, а ссылки на внешние материалы помогут получить необходимый контекст. Вы можете ознакомиться с соответствующей теорией на любом ресурсе по вашему выбору, «Код» выбран исключительно из соображений удобства.<p>В серии будет три статьи, в которых разберем следующее:<ol><li>Увидим, как устроено клиент-серверное взаимодействие;<li>Понаблюдаем за тем, как браузер получает и отображает данные, а также изучим структуру веб-страниц;<li>Развернем собственный локальный сервер, чтобы почувствовать, как работает веб изнутри.</ol><p>В первой статье мы познакомимся с основой основ — запросом к HTTP API и ответом сервера. HTTP до сих пор остается самым популярным протоколом для клиент-серверного взаимодействия, и понимание его работы поможет разобраться по аналогии с любым другим протоколом.<p>Использовать будем <a href=https://curl.se/>curl</a> — простую, но мощную утилиту, доступную в любом терминале. Важно понимать: <code>curl</code> — это лишь один из способов. То же самое можно сделать через <a href=https://www.postman.com/>Postman</a> или любой другой HTTP-клиент. Механика взаимодействия остаётся одной и той же, независимо от инструмента.<h2 id=theory><a aria-label="Anchor link for: theory" class=zola-anchor href=#theory>Теория: знакомство с HTTP API</a></h2><p>Перед тем как вы приступите к теории, запомните: какие-то части могут показаться слишком сложными и их, скорее всего, можно пропустить, чтобы вернуться к ним в будущем. Не стесняйтесь переходить к <a href=https://alexjameson.github.io/articles/http-api-quickstart/#practice>практике</a>, если не теория не дается.<p><em>API (Application Programming Interface)</em> — это контракт, определяющий, как одно приложение может взаимодействовать с другим. В контракте зафиксированы основные параметры: доступные методы, форматы запросов и ответов, аутентификация.<p><em>HTTP API</em> — это интерфейс, использующий протокол HTTP/HTTPS для передачи данных.<p>Данные передаются в формате JSON или XML. В данном цикле статей будет рассмотрен JSON.<p>Чаще всего HTTP API соответствует стилю REST, где ресурсы доступны по URL, а действия над ними выполняются через HTTP-методы.<p>Запрос и ответ сервера можно визуализировать следующим образом:</p><script src=https://alexjameson.github.io/js/mermaid.js></script><pre class=mermaid>
  sequenceDiagram
    participant Клиент
    participant Сервер

    Клиент->>Сервер: 1. Отправка HTTP-запроса
    Note right of Клиент: Метод (GET/POST и т.д.)<br>URL, Заголовки, Тело

    Сервер->>Сервер: 2. Обработка запроса
    Note right of Сервер: Проверка аутентификации,<br>подготовка данных для отправки

    Сервер->>Клиент: 3. Отправка HTTP-ответа
    Note left of Сервер: Код статуса (200, 404 и т.д.)<br>Заголовки, Тело ответа

    Клиент->>Клиент: 4. Обработка ответа и отображение данных
</pre><blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/chto-takoe-api/>Что такое API</a><li><a href=https://thecode.media/osi/>Что такое протокол</a><li><a href=https://thecode.media/json/>Что такое формат JSON и как с ним работать</a></ul></blockquote><h3 id=rest><a aria-label="Anchor link for: rest" class=zola-anchor href=#rest>REST</a></h3><p><em>REST (Representational State Transfer)</em> — это архитектурный стиль, описывающий набор принципов построения API. В большинстве случаев HTTP API создается как RESTful API, но эти понятия не синонимичны.<p>Принципы REST достаточно просты и их немного, я выделю наиболее важные я первого знакомства:<ul><li>Клиент и сервер независимы, общаются через API<li>Отсутствие состояния: Каждый запрос содержит всю необходимую информацию. Сервер не хранит состояние сессии.<li>Единообразие: API организован по ресурсам, с API работают с помощью стандартных HTTP-методов.</ul><p>Клиент — это любая система или приложение, которое отправляет HTTP-запросы к серверу и использует его API. Это может быть браузер, сервер, мобильное приложение или любой другой инструмент, как управляемый напрямую человеком, так и нет.<p>Ресурсы — это любые сущности, например пользователи, посты или комментарии. К ним обращаются по соответствующим URL, например <code>api.example.com/users/1</code>.<blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/kak-ustroeny-api-razbiraemsya-na-primere-rest-api/>Как устроены API: разбираемся на примере REST API</a></ul></blockquote><h3 id=query-structure><a aria-label="Anchor link for: query-structure" class=zola-anchor href=#query-structure>Структура запроса</a></h3><p>Ниже показана структура HTTP-запроса. Именно так он выглядит для самого протокола, но не все поля этого запроса нужны всегда, а в разных клиентах некоторые поля можно не заполнять. Например, в <code>curl</code> запрос без указанного метода будет считаться GET-запросом.<ol><li><p><strong>Метод и путь</strong>. Пример: <code>GET /api/v1/users</code></p><li><p><strong>Заголовки (Headers)</strong></p></ol><ul><li><strong>Host</strong>: адрес хоста и, опционально, номер порта;<li><strong>Content-Type</strong>: тип данных в теле запроса (<code>application/json</code>);<li><strong>Authorization</strong>: токен доступа;<li><strong>Accept</strong>: какие форматы ответа ожидает клиент;</ul><ol start=3><li><strong>Тело (Body)</strong> — только для методов, предполагающих отправку данных (POST, PUT, PATCH). Пример: <code>{ "name": "Иван", "email": "ivan@example.com" }</code></ol><h3 id=methods><a aria-label="Anchor link for: methods" class=zola-anchor href=#methods>Методы</a></h3><p>Следующие методы по умолчанию используются для действий с ресурсами в HTTP API:<ul><li><p><strong>GET</strong>: Получение ресурса. Не должен менять состояние ресурса;</p><li><p><strong>POST</strong>: Создание нового ресурса;</p><li><p><strong>PUT</strong>: Полное обновление ресурса;</p><li><p><strong>PATCH</strong>: Частичное обновление;</p><li><p><strong>DELETE</strong> Удаление ресурса.</p></ul><h2 id=practice><a aria-label="Anchor link for: practice" class=zola-anchor href=#practice>Практика: получаем и передаем данные</a></h2><h3 id=env><a aria-label="Anchor link for: env" class=zola-anchor href=#env>Настройка окружения</a></h3><p>Эта статья предполагает работу в терминале с поддержкой оболочки <strong>Bash</strong>.<p>На <strong>Windows</strong> я рекомендую использовать <strong>Git Bash</strong>, который устанавливается вместе с <a href=https://git-scm.com/downloads/win>Git for Windows</a>. Если у вас есть другой предпочитаемый терминал, который поддерживает Bash, можно использовать его. Работа в PowerShell технически возможно, но это не рекомендуемый вариант.<p>На других операционных системах можно пользоваться любым встроенным терминалом, так как в UNIX-подобных системах Bash поддержан по умолчанию.<h3 id=jsonplaceholder><a aria-label="Anchor link for: jsonplaceholder" class=zola-anchor href=#jsonplaceholder>Выбор API</a></h3><p>В качестве провайдера API будет использован сервис <a href=https://jsonplaceholder.typicode.com/>JSONPlaceholder</a>. Это сервис, который предоставляет эмулятор API (mock API). В GET-запросах он отдает настоящие данные, а при POST-запросах он эмулирует ответ, аналогичный реальному ответу сервера. Из этого следует, что в этом API нельзя на самом деле модицифировать или удалять ресурсы, так что рассмотрены будут только GET- и POST-запросы.<p>Аутентификация в этом API не предусмотрена.<p>К сожалению, <a href=https://jsonplaceholder.typicode.com/guide/>документация</a> сервиса не доступна на территории России, но я верю, что при желании вы сможете решить эту проблему. Это будет полезно само по себе, но в сценариях ниже я привожу всю необходимую информацию для работы с этим API.<p><strong>JSONPlaceholder</strong> имеет 6 ресурсов:<table><thead><tr><th>Ресурс<th>Путь<th>Количество<tbody><tr><td>Посты<td>/posts<td>100<tr><td>Комментарии<td>/comments<td>500<tr><td>Альбомы<td>/albums<td>100<tr><td>Фото<td>/photos<td>5000<tr><td>Задачи<td>/todos<td>200<tr><td>Пользователи<td>/users<td>10</table><p>Ссылка на первый пост выглядит так: <code>https://jsonplaceholder.typicode.com/posts/1</code>. Ссылка на комментарий с номером 500 выглядит так: <code>https://jsonplaceholder.typicode.com/comments/500</code>.<h3 id=get><a aria-label="Anchor link for: get" class=zola-anchor href=#get>GET-запросы</a></h3><p>Рассмотрим разные сценарии получения и обработки данных.<h4 id=status><a aria-label="Anchor link for: status" class=zola-anchor href=#status>Получение состояния ресурса</a></h4><p>В первом запросе проверяем состояние самого сервера. Это будет GET-запрос, хотя явно в <code>curl</code> это не указывается. Также не указывается большинство других частей запроса, которые разбирались в <a href=https://alexjameson.github.io/articles/http-api-quickstart/#query-structure>соответствующей секции</a>.<p>Для проверки статуса используется <em>флаг</em> <code>-I</code>, который запрашивает только заголовки HTTP-ответа и не скачивает тело запроса:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -I</span><span> https://jsonplaceholder.typicode.com
</span></code></pre><p>Начало ответа должно выглядеть следующим образом:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>HTTP/2</span><span> 200
</span><span style=color:#f29718>date:</span><span> Wed, 27 Aug 2025 22:08:27 GMT
</span><span style=color:#f29718>content-type:</span><span> text/html</span><span style=color:#ed9366>; </span><span>charset</span><span style=color:#ed9366>=</span><span style=color:#86b300>UTF-8
</span><span style=color:#f29718>...
</span></code></pre><p>Код <code>200</code> в первой строке говорит о том, что запрос выполнен успешно.<p>Далее попробуем получить состояние заведомо недоступного ресурса:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -I </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/posts/9999"
</span></code></pre><p>Сервер принял запрос, но вернул другой ответ:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>HTTP/2</span><span> 404
</span><span style=color:#f29718>date:</span><span> Wed, 27 Aug 2025 22:31:44 GMT
</span><span style=color:#f29718>content-type:</span><span> application/json</span><span style=color:#ed9366>; </span><span>charset</span><span style=color:#ed9366>=</span><span style=color:#86b300>utf-8
</span><span style=color:#f29718>...
</span></code></pre><p>Код <code>404</code> говорит об отсутствии запрашиваемого ресурса на сервере.<blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/error-404/>Почему иногда вместо сайтов мы видим разные ошибки сервера</a></ul></blockquote><h3 id=query-data><a aria-label="Anchor link for: query-data" class=zola-anchor href=#query-data>Получение данных</a></h3><p>Отправляем GET-запрос к <strong>JSONPlaceholder</strong> для получения содержимого поста с <code>id=1</code>:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/posts/1" 
</span></code></pre><p>Ожидаемые ответ с соедржимым поста, не несущим особой смысловой нагрузки:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>{
</span><span>  </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"sunt aut facere repellat provident..."</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"body"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"quia et suscipit..."
</span><span>}
</span></code></pre><p>Стоит также отправить запросы к другим ресурсам. Можно выбрать любые ресурсы в том диапазоне, который был указан в <a href=https://alexjameson.github.io/articles/http-api-quickstart/#jsonplaceholder>таблице выше</a>.<p>Например:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/users/10"
</span></code></pre><p>Информации о пользователях намного больше:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>{
</span><span>  </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>10</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"name"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Clementina DuBuque"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"username"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Moriah.Stanton"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"email"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Rey.Padberg@karina.biz"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"address"</span><span style=color:#61676ccc>: </span><span>{
</span><span>    </span><span style=color:#86b300>"street"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Kattie Turnpike"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"suite"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Suite 198"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"city"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Lebsackbury"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"zipcode"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"31428-2261"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"geo"</span><span style=color:#61676ccc>: </span><span>{
</span><span>      </span><span style=color:#86b300>"lat"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"-38.2386"</span><span style=color:#61676ccc>,
</span><span>      </span><span style=color:#86b300>"lng"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"57.2232"
</span><span>    }
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"phone"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"024-648-3804"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"website"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"ambrose.net"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"company"</span><span style=color:#61676ccc>: </span><span>{
</span><span>    </span><span style=color:#86b300>"name"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Hoeger LLC"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"catchPhrase"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Centralized empowering task-force"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"bs"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"target end-to-end models"
</span><span>  }
</span><span>}
</span></code></pre><p>Рекомендую запросить аналогичным образом ресурсы всех типов.<h4 id=nested-resources><a aria-label="Anchor link for: nested-resources" class=zola-anchor href=#nested-resources>Работа с вложенными ресурсами</a></h4><p><strong>JSONPlaceholder</strong> поддерживает иерархические маршруты, отражающие связи между ресурсами.<ul><li>У постов есть комментарии, доступные по следущему пути: <code>/posts/&lt;номер>/comments</code>.<li>В альбомах есть фотографии: <code>/albums/&lt;номер>/photos</code>.<li>У пользователей есть альбомы, задачи и посты: <ul><li><code>/users/&lt;номер>/albums</code>;<li><code>/users/&lt;номер>/todos</code>;<li><code>/users/&lt;номер>/posts</code>.</ul></ul><p>Попробуем запросить не просто отдельный ресурс, а все комментарии к посту 42:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/posts/42/comments"
</span></code></pre><p>Ответ будет выглядеть как массив с объектами, начинающийся так:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>[
</span><span>  {
</span><span>    </span><span style=color:#86b300>"postId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>42</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>206</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"name"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"deserunt eveniet quam vitae velit"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"email"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Sophie@antoinette.ca"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"body"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"nam iusto minus expedita numquam</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>et id quis</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>voluptatibus minima porro facilis dolores beatae aut sit</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>aut quia suscipit"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  {
</span><span>    </span><span style=color:#86b300>"postId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>42</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>207</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"name"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"asperiores sed voluptate est"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"email"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Jessika@crystel.ca"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"body"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"nulla quos harum commodi</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>aperiam qui et dignissimos</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>reiciendis ut quia est corrupti itaque</span><span style=color:#4cbf99>\n</span><span style=color:#86b300>laboriosam debitis suscipit"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#f51818>...
</span><span>]
</span></code></pre><p>Далее проверим более сложное сочетание — сначала получим список всех альбомов пользователя, а потом посмотрим, какие фотографии принадлежат этому пользователю:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/users/3/albums"
</span></code></pre><p>В ответе будет множество альбомов этомго пользователя. <code>id</code> в данном случае это идентификатор альбома:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>[
</span><span>  {
</span><span>    </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>3</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>21</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"repudiandae voluptatem optio est consequatur rem in temporibus et"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  {
</span><span>    </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>3</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>22</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"et rem non provident vel ut"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  {
</span><span>    </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>3</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>23</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"incidunt quisquam hic adipisci sequi"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#f51818>...
</span><span>]
</span></code></pre><p>Зная, что пользователю принадлежит альбом с <code>id=21</code>, запросим фотографии из этого альбома:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/albums/21/photos"
</span></code></pre><p>Получим массив фотогрфий, начинащийся так:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>[
</span><span>  {
</span><span>    </span><span style=color:#86b300>"albumId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>21</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1001</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"velit corrupti odio suscipit rerum"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"url"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"https://via.placeholder.com/600/a91759"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"thumbnailUrl"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"https://via.placeholder.com/150/a91759"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  {
</span><span>    </span><span style=color:#86b300>"albumId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>21</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1002</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"eveniet expedita est est amet doloremque facilis velit at"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"url"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"https://via.placeholder.com/600/a8d0f4"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"thumbnailUrl"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"https://via.placeholder.com/150/a8d0f4"
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#f51818>...
</span><span>]
</span></code></pre><blockquote><p>В последнем примере пришлось сделать два отдельных запроса, чтобы получить один из наборов фотографий пользователя. Как правило, в реальных API поддерживается более глубокая вложенность.</blockquote><h4 id=filtering><a aria-label="Anchor link for: filtering" class=zola-anchor href=#filtering>Фильтрация с помощью параметров</a></h4><p>До этого мы получали данные, используя уникальный <em>ключ</em> — числовой идентификатор ресурса. Но часто бывает нужно найти ресурс, имея только одну его характеристику. Это можно сделать с помощью запросов с параметрами (<em>query-параметрами</em>). Параметры указываются в URL после имени ресурса следующим образом: <code>https://jsonplaceholder.typicode.com/&lt;ресурс> ? &lt;параметр> = &lt;значение></code>.<p>Используем query-параметры для поиска всех незавершённых задач пользователя с <code>userId=1</code>. Для этого нужно указать <code>completed=false</code> для ресурса <code>/todos</code>:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/todos?userId=1&completed=false"
</span></code></pre><p>Ответ:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>[
</span><span>  {
</span><span>    </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"delectus aut autem"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"completed"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  {
</span><span>    </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>2</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"quis ut nam facilis et officia qui"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"completed"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  {
</span><span>    </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>3</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"fugiat veniam minus"</span><span style=color:#61676ccc>,
</span><span>    </span><span style=color:#86b300>"completed"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>false
</span><span>  }</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#f51818>...
</span><span>]
</span></code></pre><p>Попробуйте воспользоваться знанием устройства API, чтобы найти следующее:<ol><li>Все альбомы, принадлежащие пользователю с <code>userId=5</code>;<li>Все комментарии к посту с <code>postId=73</code>;<li>Единственного пользователя, у которого <code>email=Sincere@april.biz</code>.</ol><h3 id=post><a aria-label="Anchor link for: post" class=zola-anchor href=#post>POST-запросы</a></h3><p>Запросы этого типа используются для передачи данных. Напомню, что в <strong>JSONPlaceholder</strong> POST-запросы имитируются, ресурсы на самом деле не создаются, но ответ от сервера приходит точно такой, как при выполнении настоящих запросов.<p>POST-запросы в <code>curl</code> требуют указания большего колчества параметров:<ol><li>Метод, указанный с помощью флага <code>-X</code>, после которого указывается URL ресурса;<li>Тип данных, указанный с помощью флага <code>-H</code>;<li>Тело запроса с помощью флага <code>-d</code>. Так как тип данных в данном случае это <code>application/json</code>, передаваемые данные должны быть в формате JSON.</ol><p>Попробуем создать новый пост, автором которого будет пользователь с <code>userId=1</code>:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -X</span><span> POST </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/posts" </span><span style=color:#61676ccc>\
</span><span style=color:#ff8f40>     -H </span><span style=color:#86b300>"Content-Type: application/json" </span><span style=color:#61676ccc>\
</span><span style=color:#ff8f40>     -d </span><span style=color:#86b300>'{
</span><span style=color:#86b300>       "title": "Мой пост",
</span><span style=color:#86b300>       "body": "Это содержимое поста",
</span><span style=color:#86b300>       "userId": 1
</span><span style=color:#86b300>     }'
</span></code></pre><p>Так как в API уже есть 100 ресурсов такого типа, у нового поста <code>id=101</code>. Ответ в формате JSON:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>{
</span><span>  </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Мой пост"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"body"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Это содержимое поста"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>101
</span><span>}
</span></code></pre><p>Далее создадим новый комментарий, отправленный пользователем с именем Иван к первому посту:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -X</span><span> POST </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/comments" </span><span style=color:#61676ccc>\
</span><span style=color:#ff8f40>     -H </span><span style=color:#86b300>"Content-Type: application/json" </span><span style=color:#61676ccc>\
</span><span style=color:#ff8f40>     -d </span><span style=color:#86b300>'{
</span><span style=color:#86b300>       "name": "Иван",
</span><span style=color:#86b300>       "email": "ivan@example.com",
</span><span style=color:#86b300>       "body": "Отличная статья!",
</span><span style=color:#86b300>       "postId": 1
</span><span style=color:#86b300>     }'
</span></code></pre><p>Ответ:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>{
</span><span>  </span><span style=color:#86b300>"name"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Иван"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"email"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"ivan@example.com"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"body"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Отличная статья!"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"postId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>501
</span><span>}
</span></code></pre><p>Напоследок создадим новую задачу:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -X</span><span> POST </span><span style=color:#86b300>"https://jsonplaceholder.typicode.com/todos" </span><span style=color:#61676ccc>\
</span><span style=color:#ff8f40>     -H </span><span style=color:#86b300>"Content-Type: application/json" </span><span style=color:#61676ccc>\
</span><span style=color:#ff8f40>     -d </span><span style=color:#86b300>'{
</span><span style=color:#86b300>       "title": "Изучить POST-запросы",
</span><span style=color:#86b300>       "completed": true,
</span><span style=color:#86b300>       "userId": 1
</span><span style=color:#86b300>     }'
</span></code></pre><p>Ответ:<pre class=language-json data-lang=json style=color:#61676c;background-color:#fafafa><code class=language-json data-lang=json><span>{
</span><span>  </span><span style=color:#86b300>"title"</span><span style=color:#61676ccc>: </span><span style=color:#86b300>"Изучить POST-запросы"</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"completed"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>true</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"userId"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>,
</span><span>  </span><span style=color:#86b300>"id"</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>201
</span><span>}
</span></code></pre><p>На этом заканчивается знакомство с основами HTTP-запросов.<p>В следующих статьях рассмотрим подробнее другие аспекты клиент-серверного взаимодействия.</section></article></main></div>