<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://alexjameson.github.io/ name=base><title>
            
                Понимание веб-разработки: работа с сервером
            
        </title><meta content="Понимание веб-разработки: работа с сервером" property=og:title><meta content="Изучаем основы работы с локальным HTTPServer в Python." property=og:description><meta content="Изучаем основы работы с локальным HTTPServer в Python." name=description><link href=/favicon/favicon-32x32.png rel=icon type=image/png><link href=https://alexjameson.github.io/fonts.css rel=stylesheet><script src=https://alexjameson.github.io/js/codeblock.js></script><script src=https://alexjameson.github.io/js/toc.js></script><script src=https://alexjameson.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Docs as Magic" href=https://alexjameson.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://alexjameson.github.io/theme/light.css rel=stylesheet><link href=https://alexjameson.github.io/main.css media=screen rel=stylesheet><script src="https://alexjameson.github.io/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=content><header><div class=main><a href=https://alexjameson.github.io/>Docs as Magic</a><div class=socials><a class=social href=https://github.com/AlexJameson/AlexJameson.github.io rel=me> <img alt=github src=https://alexjameson.github.io/icons/social/github.svg> </a></div></div><nav><a href=https://alexjameson.github.io/articles style=margin-left:.25em>/Статьи</a><a href=https://alexjameson.github.io/mentorship style=margin-left:.25em>/Менторство</a><a href=https://alexjameson.github.io/about style=margin-left:.25em>/Обо мне</a><a href=https://alexjameson.github.io/atom.xml style=margin-left:.25em>/RSS</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://alexjameson.github.io/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div></nav></header><main><article><div class=title><div class=page-header>Понимание веб-разработки: работа с сервером<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Опубликовано: <time>02.11.2025</time><span class=tags-label> :: Теги:</span><span class=tags> <a class=post-tag href=https://alexjameson.github.io/tags/navyki/>навыки</a> </span></div></div><div class=toc-container><h2 class=toc-title>   Содержание</h2><ul class=toc-list><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#what-is-web-server>Что такое веб-сервер</a><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#before-you-begin>Перед началом работы</a> <ul><li class=toc-level-2><a href=https://alexjameson.github.io/articles/web-server/#terminal-navigation>Навигация в терминале</a></ul><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#check-python>Проверка наличия Python</a><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#clone-project>Клонирование подготовленного проекта</a><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#start-server>Запуск сервера</a> <ul><li class=toc-level-2><a href=https://alexjameson.github.io/articles/web-server/#what-is-port>Что такое порт</a></ul><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#check-in-browser>Проверка в браузере</a><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#what-is-localhost>Что такое localhost</a><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#check-with-curl>Проверка через curl</a><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#stop-server>Остановка сервера</a> <ul><li class=toc-level-2><a href=https://alexjameson.github.io/articles/web-server/#api-server-vs-example>Чем отличается сервер c API от использованного примера</a></ul><li class=toc-level-1><a href=https://alexjameson.github.io/articles/web-server/#conclusion>Заключение</a></ul></div><section class=body><p>Это заключительная статья из серии, посвящённой пониманию веб-разработки. В серии три статьи, в которых разбиралось следующее:<ol><li><a href=https://alexjameson.github.io/articles/http-api-quickstart/>Устройство клиент-серверного взаимодействия</a>;<li><a href=https://alexjameson.github.io/articles/using-devtools/>Изучение того, как браузер получает и отображает данные</a>;<li>→ Развернём собственный локальный сервер, чтобы убедиться, что сервер — это просто программа.</ol><h2 id=what-is-web-server><a aria-label="Anchor link for: what-is-web-server" class=zola-anchor href=#what-is-web-server>Что такое веб-сервер</a></h2><p><em>Веб-сервер</em> — это программа, которая принимает запросы от браузера или другого клиента и отвечает на них. Основная задача — доставить файлы: HTML, CSS, JSON и т.д.<p>Существует два основных типа серверов:<table><thead><tr><th>Статический<th>Динамический<tbody><tr><td>Отдаёт файлы «как есть». Подходит для простых сайтов, документации, интерфейсов одностраничных приложений (SPA).<td>Обрабатывает данные, взаимодействует с базой данных, может создавать или изменять ресурсы, что дает возможность работать с API.</table><p>В этой статье для примера используется <a href=https://docs.python.org/3/library/http.server.html>статический сервер</a>, который по умолчанию поставляется при установке Python. Он не обрабатывает логику, но показывает, как контент становится доступен через HTTP.<blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/web-server-2/>Что такое веб-сервер и зачем он нужен</a></ul></blockquote><h2 id=before-you-begin><a aria-label="Anchor link for: before-you-begin" class=zola-anchor href=#before-you-begin>Перед началом работы</a></h2><p>Для повторения примеров понадобятся установленные в системе Python и Git, а также терминал по выбору. Примеры подготовлены на компьютере с macOS; для Windows предлагаются отдельные команды. В качестве терминала на Windows я настоятельно рекомендую использовать <a href=https://git-scm.com/install/windows>Git Bash</a>, который устанавливается вместе с Git.<p>Я привожу в качестве примера консольные команды, но при желании можно делать практически то же самое с помощью альтернативных средств и клиентов.<h3 id=terminal-navigation><a aria-label="Anchor link for: terminal-navigation" class=zola-anchor href=#terminal-navigation>Навигация в терминале</a></h3><p>Для работы в терминале полезно будет помнить, как устроена навигация по файловой системе. Работа с сервером часто происходит в UNIX-подобном окружении, так что стоит научиться использовать следующие команды:<ul><li><code>pwd</code> — покажет, где вы сейчас находитесь (полный путь);<li><code>ls</code> — покажет содержимое текущей директории;<li><code>cd имя_директории</code> — перейти в директорию (<code>cd</code> — сокращение от change directory);<li><code>cd ..</code> — подняться на уровень выше;<li><code>cd ~</code> — вернуться в домашнюю директорию.</ul><p>Пример:<ol><li>Вы в <code>/home/user/desktop/</code>.<li>Хотите перейти в <code>/home/user/desktop/web-server-tutorial</code>.<li>Введите: <code>cd web-server-tutorial</code>.<li>Чтобы вернуться обратно, введите: <code>cd ..</code>.</ol><h2 id=check-python><a aria-label="Anchor link for: check-python" class=zola-anchor href=#check-python>Проверка наличия Python</a></h2><p>Убедитесь, что у вас установлен Python 3. Откройте терминал (Git Bash, iterm2 или другой в зависимости от ОС) и введите команду:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>python3</span><span style=color:#ff8f40> --version
</span></code></pre><p>или<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>python</span><span style=color:#ff8f40> --version
</span></code></pre><p>Если вы видите версию вроде Python 3.9 или выше — всё готово.<p>Если команда не найдена, скачайте Python с <a href=https://www.python.org/downloads/>официального сайта</a>.<h2 id=clone-project><a aria-label="Anchor link for: clone-project" class=zola-anchor href=#clone-project>Клонирование подготовленного проекта</a></h2><p>Я подготовил проект и разместил его на GitHub. Он содержит минимальную структуру, необходимую для демонстрации работы с данными, используя локальный сервер.<p>Перейдите в то место, куда вы хотите склонировать репозиторий, и выполните:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>git</span><span> clone https://github.com/AlexJameson/web-server-tutorial.git
</span></code></pre><p>Перейдите в директорию:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f07171>cd</span><span> web-server-tutorial
</span></code></pre><p>Проект содержит следующие файлы:<ul><li><code>index.html</code> — главная страница с кнопкой для загрузки данных. По нажатию кнопки вызывается код на JavaScript, запрашивающий и отображающий данные.<li><code>404.html</code> — страница, которая показывается при ошибке.<li><code>api/posts/</code> — список из 10 постов.</ul><p>Такая структура имитирует реальное API, где:<ul><li><code>/api/posts/1.json</code> — возвращает содержимое первого поста.<li><code>/api/posts/2.json</code> — второго и так далее.</ul><p>Вы можете открыть любой файл в текстовом редакторе (рекомендую VS Code), чтобы увидеть, как устроены данные. Как можно заметить, в этом проекте нет ни одного файла, относящегося к Python. Локальный сервер этого и не требует. В самой простой реализации он просто делает директорию доступной по сети или локально.<p>Ключевая идея этой статьи состоит как раз в том, что с определённой точки зрения любой сервер — это просто программа. Она позволяет обращаться к ресурсам по определённым адресам. Можно заметить, что ресурсы при запросах доступны по тем путям, по которым они действительно находятся в директории.<h2 id=start-server><a aria-label="Anchor link for: start-server" class=zola-anchor href=#start-server>Запуск сервера</a></h2><p>Модуль HTTPServer из стандартной библиотеки не требует ничего, кроме установленного в системе Python. Этот модуль реализует простой HTTP-сервер на <a href=https://en.wikipedia.org/wiki/Network_socket>сокетах</a>. Он слушает указанный порт, принимает входящие TCP-соединения, обрабатывает HTTP-запросы и отдаёт файлы из директории, в которой он запущен.<ol><li><p>Находясь в директории <code>web-server-tutorial</code>, выполните в терминале:</p> <pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>python3</span><span style=color:#ff8f40> -m</span><span> http.server 8000
</span></code></pre><li><p>Сервер запущен. Вы увидите сообщение:</p> <p><code>Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...</code></p> <p>или</p> <p><code>Serving HTTP on :: port 8000 (http://[::]:8000/) ...</code></p></ol><h3 id=what-is-port><a aria-label="Anchor link for: what-is-port" class=zola-anchor href=#what-is-port>Что такое порт</a></h3><p>Порт — это точка соединения с определённым номером, через которую данные передаются по сети. Порты бывают физические и программные. В этой статье я имею в виду программные порты. Операционные системы по умолчанию используют разные порты для разных протоколов: порт 80 для HTTP, 22 для SSH, 443 для HTTPS и т.д. Для локальных тестов в этой статье используем точно не занятый порт 8000.<p>Вы можете выбрать любой другой свободный порт, например:<pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>python</span><span style=color:#ff8f40> -m</span><span> http.server 8080
</span></code></pre><p>Это запустит сервер на другом порте. В таком случае у вас будут запущены два сервера одновременно. Каждый сервер будет обрабатывать запросы только по своему порту.<blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/port/>Что такое порт в программировании</a></ul></blockquote><h2 id=check-in-browser><a aria-label="Anchor link for: check-in-browser" class=zola-anchor href=#check-in-browser>Проверка в браузере</a></h2><ol><li><p>Откройте браузер и перейдите по следующему адресу:</p> <p><a href=http://localhost:8000>http://localhost:8000</a></p><li><p>Вы увидите главную страницу с кнопкой <strong>Загрузить пост #1</strong>.</p><li><p>Нажмите на неё и посмотрите на пост, который загружает локальный сервер. Это такой же контент, который мы получали при обращении к сервису <strong>JSONPlaceholder</strong> в <a href=https://alexjameson.github.io/articles/http-api-quickstart/>одной из предыдущих статей</a>.</p></ol><p>Можно проанализировать этот запрос:<ol><li><p>Откройте <a href=https://alexjameson.github.io/articles/using-devtools/>DevTools</a> (F12) и перейдите на вкладку <strong>Network</strong>.</p><li><p>Обновите страницу и нажмите кнопку снова. Вы увидите использованный метод, статус запроса, объём переданных ресурсов и время загрузки.</p></ol><p><img alt="devtools view" src=/assets/server-devtools.png><blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/browser/>Что происходит, когда мы открываем сайт в браузере</a></ul></blockquote><h2 id=what-is-localhost><a aria-label="Anchor link for: what-is-localhost" class=zola-anchor href=#what-is-localhost>Что такое localhost</a></h2><p>В примерах выше можно увидеть, что адрес локального сервера может быть <code>http://0.0.0.0:8000</code> или <code>http://[::]:8000/</code>, а в браузере вообще отображается <code>http://localhost:8000</code>. На самом деле, это практически один и тот же адрес, но в разных представлениях.<p><em>localhost</em> — это имя, которое всегда указывает на ваш компьютер (хост) и полностью соответствует адресу <code>127.0.0.1</code> при подключении к локальному серверу по <a href=https://ru.wikipedia.org/wiki/IPv4>IPv4</a> (или <code>::1</code> через <a href=https://ru.wikipedia.org/wiki/IPv6>IPv6</a>, который стараются использовать многие современные системы). Такой адрес называют <a href=https://ru.wikipedia.org/wiki/Loopback>loopback-адресом</a> и он служит только для приёма соединений с той же машины, где работает сервер.<p><code>0.0.0.0</code> — специальный зарезервированный IPv4-адрес, который используется на серверах для прослушивания всех сетевых интерфейсов (например Wi-Fi, Ethernet и т.д.). А <code>[::]</code> — его аналог для IPv6. Такие адреса не маршрутизируются: маршрутизатор не знает, куда отправить пакет с адресом назначения <code>0.0.0.0</code>.<p>На базовом уровне нужно понимать, что при работе с сервером на локальной машине к нему можно обратиться по любому из перечисленных выше адресов.<blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/dns/>Как устроен интернет: адреса</a></ul></blockquote><h2 id=check-with-curl><a aria-label="Anchor link for: check-with-curl" class=zola-anchor href=#check-with-curl>Проверка через curl</a></h2><p>Клиентом может быть не только браузер. Попробуем отправить запросы к серверу с помощью <code>curl</code>.<ol><li><p>Откройте ещё один терминал или вкладку, чтобы не прерывать работу сервера в первом терминале.</p><li><p>Проверьте, что сервер доступен:</p> <pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -I</span><span> http://localhost:8000
</span></code></pre> <p>Вы должны увидеть:</p> <pre class=language-http data-lang=http style=color:#61676c;background-color:#fafafa><code class=language-http data-lang=http><span>HTTP/1.0 200 OK
</span><span>Server: SimpleHTTP/0.6 Python/3.9.16
</span><span>Content-Type: text/html
</span></code></pre><li><p>Теперь проверьте доступ к данным:</p> <pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span> http://localhost:8000/api/posts/1.json
</span></code></pre> <p>Вы увидите то же содержимое поста, которое до этого появилось по нажатию кнопки в интерфейсе.</p> <p>Помимо поста номер 1, можно также заменить номер и получить содержимое других постов.</p> <p>А ещё вы можете разместить любые другие файлы в директории, перезапустить сервер и пройти по соответствующим путям.</p><li><p>А что будет, если запросить несуществующую страницу, например:</p> <pre class=language-bash data-lang=bash style=color:#61676c;background-color:#fafafa><code class=language-bash data-lang=bash><span style=color:#f29718>curl</span><span style=color:#ff8f40> -I</span><span> http://localhost:8000/xyz
</span></code></pre> <p>Сервер покажет содержимое файла <code>404.html</code>.</p><li><p>Теперь попробуйте открыть эту или любую другую не существующую страницу в браузере. Вы увидите контент страницы, который был задан в файле <code>404.html</code>.</p></ol><p>Кстати, в браузере можно также посмотреть содержимое файлов в директории <code>/api/posts/</code>. Попробуйте открыть эти посты и посмотреть, как браузер отображает JSON и что показывается при этом в DevTools.<h2 id=stop-server><a aria-label="Anchor link for: stop-server" class=zola-anchor href=#stop-server>Остановка сервера</a></h2><p>Чтобы остановить сервер:<ol><li><p>Вернитесь в терминал, где он запущен, и нажмите <code>Ctrl + C</code>. Это сочетание типично для прерывания процессов в UNIX-средах.</p><li><p>Попробуйте обновить страницу в браузере — соединение будет отклонено.</p></ol><h3 id=api-server-vs-example><a aria-label="Anchor link for: api-server-vs-example" class=zola-anchor href=#api-server-vs-example>Чем отличается сервер c API от использованного примера</a></h3><p>Сервер, который использовался в этом сценарии, довольно сильно отличается даже от простых серверов, использующихся для реальных задач. HTTP-сервер в Python используется для простейшего тестирования. Также его возможности куда скромнее, чем у настоящих статических серверов вроде <a href=https://nginx.org/>Nginx</a>, которые позволяют решать задачи разного уровня сложности.<p>По многим причинам он не подходит для продакшена. Например, в HTTPServer реализуются только базовые проверки безопасности — нельзя установить шифрованное соединение, нет аутентификации и много другого.<p>Сервера с API обычно реализуют куда более сложную логику. Они обрабатывают запросы разных видов, а иногда вместо запросов ожидают вызовы, как в случае с <a href=https://grpc.io/>gRPC</a>. Они обрабатывают и сохраняют данные, взаимодействуя с СУБД и делают много других вещей.<blockquote><p>Подробнее:<ul><li><a href=https://thecode.media/nginx/>Что происходит, когда мы открываем сайт в браузере</a></ul></blockquote><h2 id=conclusion><a aria-label="Anchor link for: conclusion" class=zola-anchor href=#conclusion>Заключение</a></h2><p>В этой серии статей я постарался осветить основные составляющие веб-разработки как предметной области. Основная задача заключалась в том, чтобы дать возможность своими руками сделать вещи. Они раз за разом повторяются в той или иной форме при работе с веб-сервисами и приложениями.<p>Самое важное — базовые принципы не меняются в зависимости от технологий. Протоколы могут быть разными, реализации могут отличаться друг от друга, но суть останется неизменной — на любой <em>request</em> должен быть <em>response</em>.</section></article></main></div>